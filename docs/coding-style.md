# コーディングスタイルガイド

## 1. 目的

コードの一貫性、可読性、保守性を高めるためのスタイルガイドです。

## 2. 自動化ツール

* **フォーマッター:** **Prettier** を使用します。設定はプロジェクトルートのファイル (`prettier.config.js` or `package.json`) に従います。エディタでの自動整形と CI でのチェック (`prettier --check`) を推奨します。
* **リンター:** **ESLint** を使用します。設定は `.eslintrc.json` に従い、TypeScript, React, React Hooks, Next.js 用のプラグインを適切に設定します。エディタでのリアルタイムチェックと CI でのチェック (`eslint .`) を推奨します。

## 3. TypeScript

* `tsconfig.json` で `strict: true` を有効にします。
* `any` 型の使用は原則禁止します。具体的な型、`unknown`、ジェネリクスを適切に使用します。
* 型エイリアス (`type`) とインターフェース (`interface`) は、プロジェクト内で一貫した方針で使用します。（例: オブジェクトや関数の型には `type` を優先的に使用する）。
* ユーティリティ型 (`Partial`, `Readonly` など) を適切に活用します。

## 4. 命名規則

* **変数、関数:** `camelCase`
* **クラス、コンポーネント、型エイリアス、インターフェース:** `PascalCase`
* **定数:** `UPPER_SNAKE_CASE`
* **ファイル名:**
    * 一般的な `.ts` ファイル: `kebab-case.ts` (推奨)
    * React コンポーネントファイル (`.tsx`): `PascalCase.tsx`
    * テストファイル: `*.test.ts` または `*.spec.ts`

## 5. React / Next.js

* 関数コンポーネントと Hooks を使用します。
* React Hooks のルールを遵守します。
* Next.js App Router の規約（ディレクトリ構造、ファイル命名など）に従います。
* コンポーネントは小さく、単一責任の原則 (SRP) を意識します。

## 6. コメント

* コードを読めばわかる「何をしているか」ではなく、**「なぜ」** そのような実装にしたのか、という意図や背景、複雑なロジックの要点を説明するために書きます。
* `lib` や `services` 内の複雑な関数や公開するモジュールには JSDoc 形式でのコメントを推奨します。
* コミット前に不要なコメントアウトされたコードは削除します。

## 7. インポート (`import`)

* ESLint のプラグイン (`eslint-plugin-import` など) や Prettier を利用して、インポート順序を自動で整理します (例: 外部ライブラリ → 内部絶対パス (`@/`) → 相対パス)。
* `tsconfig.json` の `paths` を設定し、深い階層からの相対パス (`../../...`) を避けるために絶対パス (`@/components/...`) を可能な限り使用します。

## 8. エラーハンドリング

`docs/error-handling.md` で定義された戦略に従います。

## 9. シンプルさ

複雑すぎる実装や時期尚早な最適化よりも、明確でシンプルなコードを優先します。